(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),e.addEventListener("click",n),document.addEventListener("keydown",o)}function t(e){e.classList.remove("popup_is-opened"),e.removeEventListener("click",n),document.removeEventListener("keydown",o)}function n(e){var n=e.target;e.target.classList.contains("popup_is-opened")&&t(n)}function o(e){e.stopPropagation(),"Escape"===e.code&&t(document.querySelector(".popup_is-opened"))}function r(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}function c(e){e.target.classList.contains("card__delete-button")&&e.target.closest(".places__item").remove()}function p(e,t,n,o,r){var c=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),p=c.querySelector(".card__image");return p.src=t,p.alt=e,c.querySelector(".card__title").textContent=e,c.addEventListener("click",n),c.addEventListener("click",o),c.addEventListener("click",r),c}var a=document.querySelector(".places__list"),s=document.querySelector(".profile__edit-button"),i=document.querySelector(".popup_type_edit"),u=document.querySelector(".profile__add-button"),l=document.querySelector(".popup_type_new-card"),d=document.querySelectorAll(".popup__close"),_=document.querySelector(".popup_type_image"),m=_.querySelector(".popup__caption"),y=_.querySelector(".popup__image"),v=document.querySelector('form[name="edit-profile"]'),f=v.querySelector(".popup__input_type_name"),g=v.querySelector(".popup__input_type_description"),k=document.querySelector('form[name="new-place"]'),S=k.querySelector(".popup__input_type_card-name"),q=k.querySelector(".popup__input_type_url"),L=document.querySelector(".profile__info"),E=L.querySelector(".profile__title"),h=L.querySelector(".profile__description");function x(t){t.target.classList.contains("card__image")&&(m.textContent=t.target.alt,y.alt=t.target.alt,y.src=t.target.currentSrc,e(_))}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")})),s.addEventListener("click",(function(t){t.stopPropagation(),f.value=E.textContent,g.value=h.textContent,e(i)})),v.addEventListener("submit",(function(e){e.preventDefault(),E.textContent=f.value,h.textContent=g.value,t(e.target.closest(".popup"))})),u.addEventListener("click",(function(t){t.stopPropagation(),e(l)})),k.addEventListener("submit",(function(e){e.preventDefault(),a.prepend(p(S.value,q.value,c,r,x)),k.reset(),t(e.target.closest(".popup"))})),d.forEach((function(e){e.addEventListener("click",(function(e){t(e.target.closest(".popup"))}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=e.name,n=e.link;a.append(p(t,n,c,r,x))}))})();